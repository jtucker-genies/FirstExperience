fileFormatVersion: 2
guid: 5f2561310fce34cfc8c6d8aa9cdc3b52
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 850056264, guid: b6a406390b4794f798185bff6f9a5296, type: 3}
  SerializedAsset: '{"IsCompiled":true,"ScriptHash":"62eac2ea7fdf40bf8912e5c8ad5a4d29","CompilerVersion":"1.1.21","Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst Genies_Components_SDK_Core_1
    = require(\"Genies.Components.SDK.Core\");\nconst Genies_Traits_Api_1 = require(\"Genies.Traits.Api\");\nclass
    GameManager extends UnityEngine_1.MonoBehaviour {\n    constructor() {\n       
    super(...arguments);\n        this.points = 0;\n    }\n    Awake() {\n       
    if (GameManager.Instance == null)\n            GameManager.Instance = this;\n       
    else\n            UnityEngine_1.Object.Destroy(this.gameObject);\n    }\n   
    async Start() {\n        await $promise(Genies_Components_SDK_Core_1.GeniesSdk.Initialize());\n       
    this.CreateTraitMap();\n        Genies_Traits_Api_1.TraitsSdk.GetStrongestXTraits(1,
    (obj) => this.OnSuccess(obj), () => this.OnFailure());\n        this.startButton.onClick.AddListener(()
    => this.BeginGame());\n    }\n    OnDestroy() {\n        this.startButton.onClick.RemoveListener(()
    => this.BeginGame());\n    }\n    CreateTraitMap() {\n        this.traitToNoteInfo
    = new Map();\n        // trait, mode, bpm, speed\n        this.traitToNoteInfo.set(\"Cautious\",
    [0, 100, 1]);\n        this.traitToNoteInfo.set(\"Impulsive\", [1, 150, 3]);\n       
    this.traitToNoteInfo.set(\"Rigid\", [1, 100, 2]);\n        this.traitToNoteInfo.set(\"Relaxed\",
    [0, 80, 0]);\n        this.traitToNoteInfo.set(\"Energetic\", [1, 140, 2]);\n       
    // ...\n    }\n    OnSuccess(response) {\n        console.log(\"Top Trait:\");\n       
    response.ForEach((trait) => {\n            console.log(trait.Name);\n           
    if (this.traitToNoteInfo.has(trait.Name)) {\n                this.mode = this.traitToNoteInfo.get(trait.Name)[0];\n               
    this.bpm = this.traitToNoteInfo.get(trait.Name)[1];\n                this.speed
    = this.traitToNoteInfo.get(trait.Name)[2];\n            }\n            else {\n               
    // assign default values if didn''t assign trait values yet\n               
    this.mode = 0;\n                this.bpm = 120;\n                this.speed =
    1;\n            }\n        });\n    }\n    OnFailure() {\n        console.log(\"ERROR:
    Could not read the user''s top Trait\");\n    }\n    BeginGame() {\n        this.StartCoroutine(this.SpawnBlocksOverTime());\n       
    this.startButton.gameObject.SetActive(false);\n    }\n    // auto generate a
    set of pitches and speeds to instantiate blocks at (depending on traits)\n   
    // pitch will correspond to how far left/right block is, and audioclip will be
    asigned to block\n    // speed will correspond to bpm (chosen at start, slight
    changes over time) and selected pre-set rhythms\n    *SpawnBlocksOverTime() {\n       
    while (true) {\n            this.SpawnBlock();\n            yield new UnityEngine_1.WaitForSecondsRealtime(60.0
    / this.bpm);\n        }\n    }\n    SpawnBlock() {\n        let index = // @ts-ignore\n        
    UnityEngine_1.Random.Range_EBB7509C_H2CFB2EE5(0, 5);\n        UnityEngine_1.GameObject.Instantiate(this.noteBlock,
    this.blockStartPositions[index]);\n    }\n    AddPoints(changeAmount) {\n       
    this.points += changeAmount;\n        this.points = // @ts-ignore\n           
    UnityEngine_1.Mathf.Clamp_EBB7509C_E4172388((this.points), 0.0, 9999999.0);\n       
    this.scoreText.text = this.points.toString();\n    }\n}\nexports.default = GameManager;\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2FtZU1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJHYW1lTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDZDQUFvSTtBQUdwSSwyRUFBdUQ7QUFDdkQseURBQThDO0FBTTlDLE1BQXFCLFdBQVksU0FBUSwyQkFBYTtJQUF0RDs7UUFjWSxXQUFNLEdBQVEsQ0FBQyxDQUFDO0lBa0Y1QixDQUFDO0lBaEZXLEtBQUs7UUFDVCxJQUFJLFdBQVcsQ0FBQyxRQUFRLElBQUksSUFBSTtZQUM1QixXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs7WUFFNUIsb0JBQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFTyxLQUFLLENBQUMsS0FBSztRQUNmLE1BQU0sUUFBUSxDQUFDLHNDQUFTLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsNkJBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFFdkYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFTyxTQUFTO1FBQ2IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFHTyxjQUFjO1FBQ2xCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxHQUFHLEVBQTJCLENBQUM7UUFDMUQsMEJBQTBCO1FBQzFCLElB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","AssetPath":"Assets/Scripts/GameManager.ts","IsDirty":true,"DefaultTypeName":"Assets/Scripts/GameManager.GameManager","IsMonobehaviour":true,"IsScriptableObj":false,"Properties":[{"Path":"noteBlock","Name":"noteBlock","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializerHash":null,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Note
    Block"},{"Path":"blockStartPositions","Name":"blockStartPositions","TypeName":"UnityEngine.Transform","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":1,"IsArray":true,"IsEnum":false,"ArrayElementInitializerHash":"s/bbNJaYKIRVi9j0Y0qLoQSv2mlY2jkw2ccvLW3KVoc=","ArrayElementInitializer":{"Path":"blockStartPositions_D1","Name":"blockStartPositions","TypeName":"UnityEngine.Transform","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":1,"IsArray":false,"IsEnum":false,"ArrayElementInitializerHash":null,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Block
    Start Positions"},"ChildProperties":[],"PrettyName":"Block Start Positions"},{"Path":"startButton","Name":"startButton","TypeName":"UnityEngine.UI.Button","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializerHash":null,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Start
    Button"},{"Path":"scoreText","Name":"scoreText","TypeName":"TMPro.TMP_Text","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializerHash":null,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Score
    Text"},{"Path":"Instance","Name":"Instance","TypeName":"Assets/Scripts/GameManager.GameManager","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":true,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"HideInInspector","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializerHash":null,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Instance"}],"InheritanceChain":["Assets/Scripts/GameManager.GameManager","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","Assets/GeniesSdk/Typing/index.d.System.Object"],"SupportedUiEvents":0,"DisplayName":"GameManager","name":"GameManager","hideFlags":8}'
